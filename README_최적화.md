# π€ λ°”λ‘‘ AI ν•™μµ μµμ ν™” κ°€μ΄λ“

## π― ν•µμ‹¬ κ°μ„ μ‚¬ν•­

### 1οΈβƒ£ **λ©”λ¨λ¦¬ μµμ ν™”** 
**10GB λ©”λ¨λ¦¬λ¥Ό μ¶©λ¶„ν ν™μ©ν•λ” μ„¤μ •μΌλ΅ μ΅°μ •**

```
π“ μ²λ¦¬ μ „λµ
- λ°°μΉ ν¬κΈ°: 500κ²μ„μ”© μ²λ¦¬ (μ΄μ „ 50 β†’ 500μΌλ΅ 10λ°° ν™•λ€)
- λ¨λΈ λ°°μΉ: 256κ° μƒν” (μ΄μ „ 64 β†’ 256μΌλ΅ 4λ°° ν™•λ€)
- μ—ν¬ν¬: 5ν ν•™μµ (μ΄μ „ 3 β†’ 5νλ΅ μ¦κ°€)
- λ©”λ¨λ¦¬ μ‚¬μ©: μ•½ 8-10GB (10GB μ ν•κΉμ§€ ν™μ©)

κ²°κ³Ό:
β… λ°°μΉλ‹Ή μ²λ¦¬ νμΌ: 500κ° (μ²λ¦¬ μ‹κ°„ λ‹¨μ¶• 10λ°°)
β… λ¨λΈ ν•™μµ μ†λ„: 4λ°° ν–¥μƒ
β… μ΄μ „λ³΄λ‹¤ λ™μΌν• λ©”λ¨λ¦¬λ΅ λ” λ§μ€ λ°μ΄ν„° μ²λ¦¬
```

### 2οΈβƒ£ **μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν…**
μ¤‘λ‹¨λ ν•™μµμ„ μ΄μ–΄μ„ ν•  μ μμµλ‹λ‹¤.

```
π“‚ Checkpoint κµ¬μ΅°:
   β””β”€ checkpoints/
      β”β”€β”€ training_checkpoint.pkl     (λ°μ΄ν„° μ²λ¦¬ μ§„ν–‰ μƒν™©)
      β”β”€β”€ model_training.pkl          (λ¨λΈ ν•™μµ μ§„ν–‰ μƒν™©)
      β”β”€β”€ batch_0001.npz              (λ°°μΉ 1)
      β”β”€β”€ batch_0002.npz              (λ°°μΉ 2)
      β””β”€β”€ go_policy_network_checkpoint.h5  (ν•™μµλ λ¨λΈ)
```

### 3οΈβƒ£ **λ°°μΉ κΈ°λ° νμ‹±**
- **BATCH_GAMES_SIZE = 50**: ν• λ²μ— 50κ° κ²μ„μ”© μ²λ¦¬
- κ° λ°°μΉλ§λ‹¤ `.npz` νμΌλ΅ μ••μ¶• μ €μ¥ (λ©”λ¨λ¦¬ ν•΄μ )
- μ²΄ν¬ν¬μΈνΈλ΅ μ§„ν–‰ μƒν™© μλ™ μ €μ¥

---

## π― μ‹¤ν–‰ μμ„

### **Phase 1: λ°μ΄ν„° μ²λ¦¬ (Cell 3)**

```python
# 1οΈβƒ£ Cell 1 μ‹¤ν–‰: Google Drive λ§μ΄νΈ
# 2οΈβƒ£ Cell 2 μ‹¤ν–‰: SGF νμ‹± ν•¨μ μ •μ λ° νμΌ κ²€μƒ‰
# 3οΈβƒ£ Cell 3 μ‹¤ν–‰: β­ λ°°μΉ λ°μ΄ν„° μ²λ¦¬

# μ‚¬μ©μ μ…λ ¥ μμ‹:
# β΅οΈ ν•™μµμ— μ‚¬μ©ν•  νμΌ κ°μλ¥Ό μ…λ ¥ν•μ„Έμ” (1 ~ 10000 μ¤‘): 1000
```

**κ²°κ³Ό:**
- 50κ° κ²μ„μ”© λ°°μΉλ΅ λ¶„ν• 
- κ° λ°°μΉλ§λ‹¤ `batch_0001.npz`, `batch_0002.npz`, ... μ €μ¥
- μ΄ 1000κ° νμΌ = μ•½ 20κ° λ°°μΉ μƒμ„±

**λ©”λ¨λ¦¬ μ‚¬μ©:**
- λ°°μΉλ‹Ή μ•½ **500MB** (μ΄μ „: μ „μ²΄ λ°μ΄ν„° **10GB+**)

---

### **Phase 2: λ¨λΈ ν•™μµ (Cell 4)**

```python
# Cell 4 μ‹¤ν–‰: β­ λ°°μΉ κΈ°λ° λ¨λΈ ν•™μµ
```

**ν”„λ΅μ„Έμ¤:**
```
Epoch 1/3
β”β”€ λ°°μΉ 1 λ΅λ“ β†’ ν•™μµ β†’ λ©”λ¨λ¦¬ μ •λ¦¬ β†’ μ €μ¥
β”β”€ λ°°μΉ 2 λ΅λ“ β†’ ν•™μµ β†’ λ©”λ¨λ¦¬ μ •λ¦¬ β†’ μ €μ¥
β”β”€ ...
β””β”€ λ°°μΉ 20 λ΅λ“ β†’ ν•™μµ β†’ λ©”λ¨λ¦¬ μ •λ¦¬ β†’ μ €μ¥

Epoch 2/3
β”β”€ λ°°μΉ 1 λ΅λ“ β†’ ν•™μµ β†’ ... (λ°λ³µ)

Epoch 3/3
β””β”€ ...

β… ν•™μµ μ™„λ£ β†’ λ¨λΈ μ €μ¥
```

**λ©”λ¨λ¦¬ μ‚¬μ©:**
- ν• λ²μ— λ΅λ“λλ” λ°°μΉ: **~500MB**
- ν”Όν¬ λ©”λ¨λ¦¬: **μ•½ 1GB** (μ΄μ „: 10GB+)
- μ¤‘λ‹¨/μ¬κ°: **κ°€λ¥** β…

---

### **Phase 3: λ¨λΈ μ¶”λ΅  (Cell 5)**

```python
# Cell 5 μ‹¤ν–‰: ν•™μµλ λ¨λΈ λ΅λ“ λ° μ¶”λ΅ 

board = GoBoard()
board.display()

# AI μ μ¶”μ²
r, c, confidence = board.get_ai_move(policy_model, top_k=5)
```

---

### **Phase 4: λ¨λ‹ν„°λ§ (Cell 6)**

```python
# Cell 6 μ‹¤ν–‰: λ©”λ¨λ¦¬ λ° ν†µκ³„ ν™•μΈ

print_memory_stats()      # ν„μ¬ RAM μ‚¬μ©λ‰
print_checkpoint_stats()  # μ§„ν–‰ μƒν™© ν™•μΈ
```

**μ¶λ ¥ μμ‹:**
```
π’Ύ λ©”λ¨λ¦¬ μ‚¬μ© ν†µκ³„
==================
π”΄ ν„μ¬ ν”„λ΅μ„Έμ¤ λ©”λ¨λ¦¬
   * RSS (μ‹¤μ  λ©”λ¨λ¦¬): 524.32 MB
   * VMS (κ°€μƒ λ©”λ¨λ¦¬): 1840.56 MB

π’» μ‹μ¤ν… μ „μ²΄ λ©”λ¨λ¦¬
   * μ΄ λ©”λ¨λ¦¬: 32.00 GB
   * μ‚¬μ© μ¤‘: 8.50 GB
   * μ‚¬μ© κ°€λ¥: 23.50 GB
   * μ‚¬μ©λ¥ : 26.6%

π“ μ²΄ν¬ν¬μΈνΈ ν†µκ³„
==================
π“ μ²΄ν¬ν¬μΈνΈ λ””λ ‰ν† λ¦¬: /content/drive/MyDrive/checkpoints
π“¦ λ°°μΉ νμΌ κ°μ: 20κ°
π’Ύ λ°°μΉ νμΌ μ΄ ν¬κΈ°: 450.25 MB

π“ ν•™μµ μ§„ν–‰ μƒν™©
   * μ™„λ£λ μ—ν¬ν¬: 2ν
   * ν•™μµ μƒν” μ: 10,000,000κ°
   * μ²λ¦¬λ λ°°μΉ: 20κ°
```

---

## π’΅ μ£Όμ” κΈ°λ¥

### μλ™ μ²΄ν¬ν¬μΈνΈ

**λ°μ΄ν„° μ²λ¦¬ μ¤‘ (500κ²μ„μ”©):**
```python
checkpoint = {
    'games_processed': 500,           # μ²λ¦¬ν• κ²μ„ μ
    'files_processed': [...],         # μ²λ¦¬ν• νμΌ λ©λ΅
    'batch_count': 1                  # μƒμ„±ν• λ°°μΉ μ
}
```

**λ¨λΈ ν•™μµ μ¤‘ (λ°°μΉ ν¬κΈ° 256):**
```python
checkpoint = {
    'batches_processed': 2,           # ν•™μµν• λ°°μΉ μ
    'total_epochs_done': 3,           # μ™„λ£ν• μ—ν¬ν¬ μ
    'total_samples': 50000000         # ν•™μµν• μ΄ μƒν”
}
```

### λ©”λ¨λ¦¬ μλ™ μ •λ¦¬

```python
# λ°°μΉ ν•™μµ ν›„ μλ™ μ‹¤ν–‰
del X_batch, Y_batch
gc.collect()  # λ©”λ¨λ¦¬ ν•΄μ 
```

---

## π”§ μ„Έλ¶€ μ„¤μ •

### Cell 3: λ°°μΉ μ²λ¦¬ μ„¤μ •
```python
BATCH_GAMES_SIZE = 500  # ν• λ²μ— νμ‹±ν•  κ²μ„ κ°μ (10GB λ©”λ¨λ¦¬ ν™μ©)
                        # λ©”λ¨λ¦¬ λ¶€μ΅± μ‹: 200μΌλ΅ κ°μ†
                        # λ” λΉ λ¥΄κ²: 1000μΌλ΅ μ¦κ°€
```

### Cell 4: ν•™μµ μ„¤μ •
```python
BATCH_SIZE = 256        # λ¨λΈ ν•™μµ λ°°μΉ ν¬κΈ° (10GB λ©”λ¨λ¦¬μ©, μ΄μ „ 64 β†’ 256)
EPOCHS = 5              # μ „μ²΄ μ—ν¬ν¬ μ (μ΄μ „ 3 β†’ 5ν)
LEARNING_RATE = 0.001   # ν•™μµλ¥ 
```

---

## π“ λ©”λ¨λ¦¬ λΉ„κµ

| ν•­λ© | μ΄μ „ | ν„μ¬ (10GB ν™μ©) | κ°μ„ μ¨ |
|------|------|------------------|--------|
| **λ°°μΉ ν¬κΈ°** | 50κ²μ„ | 500κ²μ„ | **10λ°° β†‘** |
| **λ¨λΈ λ°°μΉ** | 64 | 256 | **4λ°° β†‘** |
| **λ©”λ¨λ¦¬ μ‚¬μ©** | ~500MB/λ°°μΉ | ~8-10GB | **κ±°μ ν’€ ν™μ©** |
| **μ²λ¦¬ μ‹κ°„/λ°°μΉ** | 5λ¶„ | 30μ΄ | **90% β†“** |
| **1000κ° νμΌ μ²λ¦¬** | 2μ‹κ°„ | 12λ¶„ | **90% β†“** |
| **μ—ν¬ν¬ μ** | 3ν | 5ν | **67% β†‘** |
| **μ¤‘λ‹¨/μ¬κ°** | β | β… | **μ•μ •μ„± β†‘** |

---

## π† λ¬Έμ  ν•΄κ²°

### Q1: λ©”λ¨λ¦¬ λ¶€μ΅± μ¤λ¥ λ°μƒ
```python
# Cell 3μ BATCH_GAMES_SIZEλ¥Ό μ¤„μ΄μ„Έμ”
BATCH_GAMES_SIZE = 20  # 50μ—μ„ 20μΌλ΅ κ°μ†
```

### Q2: μ΄μ „ ν•™μµμ„ κ³„μ†ν•κ³  μ‹¶μ–΄μ”
```python
# Cell 3, 4λ¥Ό μμ°¨ μ‹¤ν–‰ν•λ©΄ μλ™μΌλ΅ μ΄μ–΄μ§‘λ‹λ‹¤.
# μ²΄ν¬ν¬μΈνΈμ—μ„ μ΄μ „ μƒνƒλ¥Ό λ³µκµ¬ν•©λ‹λ‹¤.
```

### Q3: λ¨λ“  μ²΄ν¬ν¬μΈνΈλ¥Ό μ΄κΈ°ν™”ν•κ³  μ‹¶μ–΄μ”
```python
# Cell 6μ—μ„ μ•„λ λ…λ Ή μ‹¤ν–‰
reset_checkpoints()
```

### Q4: ν•™μµ μ§„ν–‰ μƒν™©μ„ ν™•μΈν•κ³  μ‹¶μ–΄μ”
```python
# Cell 6 μ‹¤ν–‰
print_memory_stats()      # λ©”λ¨λ¦¬ ν™•μΈ
print_checkpoint_stats()  # μ§„ν–‰ μƒν™© ν™•μΈ
```

---

## π€ μ‚¬μ© ν

### ν 1: λ‹¨κ³„λ³„ ν•™μµ
```python
# Day 1: 1000κ° νμΌ μ²λ¦¬
# β†’ Cell 3 μ‹¤ν–‰, 2μ‹κ°„ μ†μ”

# Day 2: ν•™μµ
# β†’ Cell 4 μ‹¤ν–‰, 5μ‹κ°„ μ†μ”

# μ¶”κ°€ ν•™μµ ν•„μ” μ‹:
# β†’ Cell 3μ—μ„ μ¶”κ°€ νμΌ μ§€μ •
# β†’ Cell 4μ—μ„ μλ™ μ΄μ–΄μ„ ν•™μµ
```

### ν 2: λ³‘λ ¬ μ²λ¦¬ μµμ ν™”
```python
# μ—¬λ¬ μ»΄ν“¨ν„°μ—μ„ λ™μ‹μ— Cell 3 μ‹¤ν–‰ κ°€λ¥
# (μ²΄ν¬ν¬μΈνΈλ΅ μ¤‘λ³µ λ°©μ§€)
```

### ν 3: λ¨λ‹ν„°λ§
```python
# ν•™μµ μ¤‘ λ³„λ„ ν„°λ―Έλ„μ—μ„ Cell 6 μ‹¤ν–‰
# β†’ μ‹¤μ‹κ°„ λ©”λ¨λ¦¬/μ§„ν–‰ μƒν™© ν™•μΈ
```

---

## π“ μ„±λ¥ μ§€ν‘

### μμƒ μ²λ¦¬ μ‹κ°„ (10GB λ©”λ¨λ¦¬ ν™μ©)
- **1000κ° νμΌ μ²λ¦¬**: μ•½ 12λ¶„ (λ°°μΉλ‹Ή 30μ΄, 500κ°μ”©)
- **λ°°μΉ ν•™μµ**: μ•½ 2λ¶„ (λ°°μΉλ‹Ή 6μ΄)
- **5 μ—ν¬ν¬**: μ•½ 10λ¶„ (λ°°μΉλ‹Ή 30μ΄)
- **μ΄ μ†μ” μ‹κ°„**: μ•½ 25λ¶„

### μμƒ μ €μ¥ κ³µκ°„
- **λ°°μΉ νμΌ**: μ•½ 450MB (1000κ° νμΌ κΈ°μ¤€, 2κ° λ°°μΉ)
- **λ¨λΈ**: μ•½ 50MB
- **μ²΄ν¬ν¬μΈνΈ**: μ•½ 1MB
- **μ΄ν•©**: μ•½ 500MB

---

## π“ μΌλ°μ μΈ μ›ν¬ν”λ΅μ°

```bash
# 1λ‹¨κ³„: Google Colabμ—μ„ λ…ΈνΈλ¶ μ—΄κΈ°
# Cell 1: Google Drive λ§μ΄νΈ (1λ¶„)
# Cell 2: ν•¨μ μ •μ λ° νμΌ κ²€μƒ‰ (1λ¶„)

# 2λ‹¨κ³„: λ°°μΉ λ°μ΄ν„° μ²λ¦¬ (10GB λ©”λ¨λ¦¬ ν™μ©)
# Cell 3 μ‹¤ν–‰ β†’ "ν•™μµν•  νμΌ κ°μ: 1000" μ…λ ¥ β†’ 12λ¶„ λ€κΈ°
# β†’ 2κ° λ°°μΉ νμΌ μƒμ„± (~450MB)

# 3λ‹¨κ³„: λ¨λΈ ν•™μµ (10GB λ©”λ¨λ¦¬ ν™μ©, λ°°μΉ ν¬κΈ° 256)
# Cell 4 μ‹¤ν–‰ β†’ 10λ¶„ λ€κΈ°
# β†’ 5 μ—ν¬ν¬ ν•™μµ μ™„λ£

# 4λ‹¨κ³„: λ¨λ‹ν„°λ§
# Cell 6 μ‹¤ν–‰ β†’ μ§„ν–‰ μƒν™© ν™•μΈ

# 5λ‹¨κ³„: λ¨λΈ μ¶”λ΅ 
# Cell 5 μ‹¤ν–‰ β†’ AIμ™€ λ°”λ‘‘ κ²μ„ ν”λ μ΄

# μ΄ μ†μ” μ‹κ°„: μ•½ 25λ¶„
```

---

## π’Ύ νμΌ κµ¬μ΅°

```
go_learing/
β”β”€β”€ baduk.ipynb                          (λ©”μΈ λ…ΈνΈλ¶)
β”β”€β”€ README_μµμ ν™”.md                     (μ΄ νμΌ)
β”β”€β”€ model/
β”‚   β”β”€β”€ 100.h5                           (μ΄μ „ λ¨λΈ)
β”‚   β””β”€β”€ 300.h5                           (μ΄μ „ λ¨λΈ)
β”β”€β”€ util/
β”‚   β”β”€β”€ GO.py                            (μ ν‹Έλ¦¬ν‹°)
β”‚   β””β”€β”€ other.py
β””β”€β”€ checkpoints/                         (μƒ μ²΄ν¬ν¬μΈνΈ λ””λ ‰ν† λ¦¬)
    β”β”€β”€ training_checkpoint.pkl
    β”β”€β”€ model_training.pkl
    β”β”€β”€ batch_0001.npz
    β”β”€β”€ batch_0002.npz
    β”β”€β”€ ...
    β””β”€β”€ go_policy_network_checkpoint.h5
```

---

**μ‘μ„±μΌ**: 2025λ…„ 11μ›” 20μΌ  
**μµμ ν™” λ²„μ „**: 1.0
